# OpenNMS camel-tt-api Plugin

```
ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -p 8101 admin@localhost
```

This plugin was generated by the OPA archetype and is used as example project layout.

The generated plugin contains code examples to demonstrate how to create a:
* Karaf Shell Command (see StatsCommand & TopologyCommand)
* REST Endpoint (see WebhookHandler & WebhookHandlerImpl)
* Event Configuration Extension (see EventConfExtension)
* Alarm Lifecycle Listener (see AlarmForwarder)



Build and install the plugin into your local Maven repository using:

```
mvn clean install
```


From the OpenNMS Karaf shell:

```
feature:repo-add mvn:org.opennms.integration.camel/karaf-features/1.0-SNAPSHOT/xml
feature:install opennms-plugins-camel-tt-api
```


```
cp assembly/kar/target/opennms-camel-tt-api-plugin.kar /opt/opennms/deploy/
feature:install opennms-plugins-camel-tt-api
```

```
bundle:watch *
```


Once installed, the plugin makes the following Karaf shell commands available:
* opennms-camel-tt-api:stats
* opennms-camel-tt-api:push-topology

You can also access the REST endpoint mounted by the plugin at `http://localhost:8980/opennms/rest/camel-tt-api/ping`
