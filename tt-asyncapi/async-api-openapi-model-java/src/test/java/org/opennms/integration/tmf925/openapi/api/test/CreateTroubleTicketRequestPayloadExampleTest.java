/*
 * Trouble Ticke AsyncAPI
 * **TMF API Reference : TMF - 621 Trouble Ticket**\\n\\n**Release : 19.0 - June 2019**\\n\\nThe Trouble Ticket API provides a standardized client interface to Trouble Ticket Management Systems for creating, tracking and managing trouble tickets as a result of an issue or problem identified by a customer or another system. \\nExamples of Trouble Ticket API originators (clients) include CRM applications, network management or fault management systems, or other Trouble Ticket management systems (e.g. B2B).\\n\\nThe API supports the ability to send requests to create a new trouble ticket specifying the nature and severity of the trouble or issue as well as all necessary related information. The API also includes mechanisms to search for and update existing trouble tickets. Notifications are defined to provide information when a trouble ticket has been updated, including status changes. A basic set of states of a trouble ticket has been specified (as an example) to handle trouble ticket lifecycle management.\\nTrouble Ticketing API manages trouble ticket resource:\\n\\n  -\\tA trouble ticket represents a record, or an issue raised by requestor that need to be solved, used for reporting and managing the resolution of problems, incidents or request -\\tMain trouble ticket attributes are its description, severity, type, related dates (creation, expected resolution, resolution), state and related information (change reason and change date), related parties (originator, owner, reviser, etc.), related entities (product, product order, customer bill) and notes Trouble Ticket API performs the following operations on trouble ticket -\\tRetrieval of a trouble ticket or a collection of trouble ticket depending on filter criteria -\\tPartial update of a trouble ticket -\\tCreation of a trouble ticket -\\tNotification of events on trouble ticket: o\\tTrouble ticket state change o\\tTrouble ticket change o\\tTrouble ticket resoled o\\tTrouble ticket created o\\tTrouble ticket Information required\\n\\n\\n\\nCopyright Â© TM Forum 2019. All Rights Reserved\\n\\n\\n
 *
 * The version of the OpenAPI document: 4.0.0
 * Contact: info@tmforum.org
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

package org.opennms.integration.tmf925.openapi.api.test;

import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonCreator;
import com.fasterxml.jackson.annotation.JsonTypeName;
import com.fasterxml.jackson.annotation.JsonValue;
import com.fasterxml.jackson.core.JsonParser;
import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.core.exc.StreamReadException;
import com.fasterxml.jackson.databind.DatabindException;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.SerializationFeature;
import com.fasterxml.jackson.databind.JsonNode;

import org.opennms.integration.tmf925.openapi.invoker.JSON;
import org.opennms.integration.tmf925.openapi.model.CreateTroubleTicketRequestPayload;
import org.opennms.integration.tmf925.openapi.model.TroubleTicketCreate;

import java.io.IOException;
import java.io.InputStream;
import java.text.DateFormat;
import java.util.UUID;

import org.junit.jupiter.api.Assertions;
import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.Test;

import org.instancio.Instancio;

/**
 * Model tests for CreateTroubleTicketRequestPayload
 */
public class CreateTroubleTicketRequestPayloadExampleTest {
	private static final  org.slf4j.Logger LOG = org.slf4j.LoggerFactory.getLogger(CreateTroubleTicketRequestPayloadExampleTest.class);

    CreateTroubleTicketRequestPayload model = org.instancio.Instancio.of(CreateTroubleTicketRequestPayload.class).create();

    /**
    * test injected by maven build
    */
    @Test
    public void simpleCreateTroubleTicketRequestPayloadTest() {
        org.opennms.integration.tmf925.openapi.invoker.JSON json = new org.opennms.integration.tmf925.openapi.invoker.JSON();
        String jsonString = null;
        java.io.FileWriter fileWriter = null;
		LOG.debug("check we create a randomly populated object and serialise it to a file");
        try {
            jsonString = json.getMapper().writerWithDefaultPrettyPrinter().writeValueAsString(model);
            LOG.debug("serialised object: n" + jsonString);
            
            java.io.File f  = new java.io.File("target/json/CreateTroubleTicketRequestPayload.json");
            f.getParentFile().mkdirs(); 
            f.createNewFile();
            fileWriter = new java.io.FileWriter(f);
            fileWriter.write(jsonString);
            fileWriter.close();
        } catch (Exception e) {
            LOG.error("problem serialising object",e);
        } finally {
            if (fileWriter!=null)
                try {
                    fileWriter.close();
                } catch (Exception ex) {
                }
        }
    }


	/**
	 * Model tests for CreateTroubleTicketRequestPayload
	 */
	@Test
	public void testCreateTroubleTicketRequestPayload() {
		JSON json = new JSON();

		InputStream src = null;

		// check we can parse json file to simple json model
		LOG.debug("check we can parse example json file to simple json model");
		try {
			src = CreateTroubleTicketRequestPayloadExampleTest.class.getResourceAsStream("createTroubleTicketRequest.json");
			//src = CreateTroubleTicketRequestPayloadTest.class.getClassLoader().getResourceAsStream("json/CreateTroubleTicketRequestPayload.json");
			assertNotNull(src);
			
			ObjectMapper mapper = new ObjectMapper();

			JsonNode rootNode = mapper.readTree(src);
			String str = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(rootNode);
			LOG.debug("simple json payload: \n" + str);
		} catch (Exception e) {
        	LOG.error("problem parsing json example to JsonNode",e);
		} finally {
			try {
				if (src != null)
					src.close();
			} catch (Exception ex) {
			}
		}

		// check we can parse file to model object
		// for real message tests make sure file path points to example data and not generated data
		// if class loader uses the test class (class.getResourceAsStream), the classloader will start search for file relative to the directory of the class
		LOG.debug("check we can parse example json file to correct model object");
		try {
			src = CreateTroubleTicketRequestPayloadExampleTest.class.getResourceAsStream("createTroubleTicketRequest.json");
			//src = CreateTroubleTicketRequestPayloadTest.class.getClassLoader().getResourceAsStream("json/CreateTroubleTicketRequestPayload.json");
			assertNotNull(src);

			CreateTroubleTicketRequestPayload obj = json.getMapper().readValue(src,	CreateTroubleTicketRequestPayload.class);

			String jsonString = null;
			jsonString = json.getMapper().writerWithDefaultPrettyPrinter().writeValueAsString(obj);
			LOG.debug("serialised object after parsing: \n" + jsonString);
		} catch (Exception e) {
        	LOG.error("problem parsing json example to model object",e);
		} finally {
			try {
				if (src != null)
					src.close();
			} catch (Exception ex) {
			}
		}
	}

}
